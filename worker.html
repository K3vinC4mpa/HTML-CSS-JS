<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Using Web Worker</title>

    <script>
        // if (window.Worker) {
        //     // Create a new web worker
        //     var worker = new Worker("worker.js");

        //     // Fire onMessage event handler
        //     worker.onmessage = function (event) {
        //         document.getElementById("result").innerHTML = event.data;
        //     };
        // } else {
        //     alert("Sorry, your browser do not support web worker.");
        // }
        var worker;

        function startWorker(){
            worker = new Worker("worker.js");
            worker.onmessage = update;

            // Shortter way
            // worker.onmessage = function(event){
            //     document.getElementById("result").innerHTML = event.data;
            // }

          

        }

        function update(event){
            document.getElementById("result").innerHTML = event.data
        }

        function stopWorker(){
            worker.terminate();

        }
        
    </script>
</head>

<body>
    <h1>Monogatari </h1>
    <button onclick="startWorker();" type="button">Start workegatari reference </button>
    <button type="button" onclick="stopWorker();">Stop workegatari reference</button>
    <div id="result">
        <!--Received messages will be inserted here-->
    </div>
</body>

</html>